---
/* Nada de imports fantasmas aquí. */
---

<section aria-labelledby="hero-title" class="relative overflow-hidden">
  <!-- Fondo: gradiente suave -->
  <div class="absolute inset-0 pointer-events-none bg-[radial-gradient(1200px_600px_at_50%_-200px,rgba(99,102,241,0.35),transparent_60%)]"></div>

  <div class="mx-auto max-w-6xl px-4 pt-16 pb-20 sm:pt-24 sm:pb-28">
    <div class="grid lg:grid-cols-2 gap-10 items-center">
      <!-- Columna texto -->
      <div>
        <h1 id="hero-title" class="text-balance font-extrabold tracking-tight text-4xl sm:text-5xl lg:text-6xl">
          <span class="block">IT-Hilfe,</span>
          <span class="sr-only">die vorausdenkt.</span>

          <!-- Bloque animado por letras -->
          <span id="hero-rotator" class="relative block h-[1.25em]">
            <span class="rotator-word">die vorausdenkt.</span>
            <span class="rotator-word">verständlich erklärt.</span>
            <span class="rotator-word">schnell vor Ort.</span>
            <span class="rotator-word">sicher umgesetzt.</span>
          </span>
        </h1>

        <p class="mt-6 text-lg text-zinc-300 max-w-xl">
          Für Zuhause und kleine Unternehmen in Köln: proaktive Wartung, sichere Heimnetze, schnelle Hilfe remote & vor Ort.
        </p>

        <div class="mt-8 flex flex-wrap gap-3">
          <a href="#kontakt" class="btn btn-primary">Jetzt beraten lassen</a>
          <a href="https://wa.me/4915565029989?text=Hallo!%20Ich%20brauche%20IT-Hilfe%20in%20K%C3%B6ln." class="btn btn-ghost">Per WhatsApp schreiben</a>
        </div>
      </div>

      <!-- Columna imagen del hero -->
      <div class="relative">
        <picture>
          <source srcset="/images/hero-desktop.avif" type="image/avif" />
          <source srcset="/images/hero-desktop.webp" type="image/webp" />
          <img
            src="/images/hero-desktop.jpg"
            alt="Techniker hilft vor Ort im Home-Office."
            width="1800" height="1200"
            decoding="async" fetchpriority="high"
            class="w-full h-auto rounded-2xl ring-1 ring-white/10 shadow-2xl"
            sizes="(max-width: 1024px) 100vw, 48rem"
          />
        </picture>
      </div>
    </div>
  </div>
</section>

<!-- Inline para que ejecute en el cliente sin líos -->
<script is:inline>
  // Animación accesible con Motion One
  document.addEventListener("DOMContentLoaded", async () => {
    const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    const root = document.getElementById("hero-rotator");
    if (!root) return;

    const words = Array.from(root.querySelectorAll(".rotator-word"));
    if (words.length === 0) return;

    // Estado inicial: solo la primera visible, sin CLS
    words.forEach((w, i) => {
      w.style.position = "absolute";
      w.style.inset = "0";
      w.style.whiteSpace = "nowrap";
      w.style.opacity = i === 0 ? "1" : "0";
      w.style.transform = "translateY(0)";
    });

    if (reduce) return; // respetar prefers-reduced-motion

    const { animate } = await import("@motionone/dom");

    let index = 0;
    const showWord = (current, next) => {
      animate(
        current,
        { opacity: [1, 0], transform: ["translateY(0)", "translateY(-10px)"] },
        { duration: 0.20, easing: "ease-in" }
      ).finished.then(() => {
        current.style.opacity = "0";
        next.style.opacity = "0";
        next.style.transform = "translateY(10px)";
        animate(
          next,
          { opacity: [0, 1], transform: ["translateY(10px)", "translateY(0)"] },
          { duration: 0.24, easing: "ease-out" }
        );
      });
    };

    setInterval(() => {
      const current = words[index];
      index = (index + 1) % words.length;
      const next = words[index];
      showWord(current, next);
    }, 2400);
  });
</script>

<style>
  .rotator-word { will-change: opacity, transform; }
</style>
