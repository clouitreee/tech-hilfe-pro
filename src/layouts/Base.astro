---
import "../styles/global.css";

const {
  title = "Tech Hilfe Pro – IT-Hilfe in Köln",
  desc = "Sichere, verständliche IT-Hilfe für Zuhause und kleine Unternehmen in NRW.",
  url = "https://tech-hilfe-pro.pages.dev",
  image = "/images/og-image.jpg"
} = Astro.props;
---

<html lang="de" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{title}</title>
    <meta name="description" content={desc} />

    <!-- Canonical -->
    <link rel="canonical" href={url} />

    <!-- OpenGraph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={desc} />
    <meta property="og:url" content={url} />
    <meta property="og:image" content={image} />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={desc} />
    <meta name="twitter:image" content={image} />

    <!-- Preconnect comunes -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />

    <!-- Umami (solo prod) -->
    {
      import.meta.env.PROD && (
        <script defer src="https://cloud.umami.is/script.js" data-website-id="56b58f40-736a-4f96-9520-3e789b49467f"></script>
      )
    }

    <!-- Favicon básico -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" href="/icon-512.png" type="image/png" />
  </head>

  <body class="min-h-screen bg-zinc-950 text-zinc-100 antialiased">
    <a class="skip-link sr-only focus:not-sr-only focus:fixed focus:top-3 focus:left-3 focus:z-50 focus:rounded-lg focus:bg-white focus:text-black focus:px-3 focus:py-2" href="#main">
      Zum Inhalt springen
    </a>

    <header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-zinc-950/60 border-b border-white/10">
      <div class="mx-auto max-w-6xl px-4 h-14 flex items-center justify-between">
        <a href="/" class="inline-flex items-center gap-2 focus:outline-none focus-visible:ring-4 focus-visible:ring-indigo-400/60 rounded-lg">
          <img src="/logo-mark.svg" alt="" width="28" height="28" decoding="async" />
          <span class="font-semibold">Tech Hilfe Pro</span>
        </a>
        <nav class="hidden sm:flex items-center gap-3">
          <a href="#leistungen" class="nav-link">Leistungen</a>
          <a href="#preise" class="nav-link">Preise</a>
          <a href="#faq" class="nav-link">FAQ</a>
          <a href="#kontakt" class="btn btn-primary">Jetzt beraten lassen</a>
        </nav>
      </div>
    </header>

    <main id="main">
      <slot />
    </main>

    <footer class="mt-24 border-t border-white/10">
      <div class="mx-auto max-w-6xl px-4 py-10 grid sm:grid-cols-2 gap-6">
        <div class="space-y-2">
          <p class="text-sm text-zinc-300">© {new Date().getFullYear()} Tech Hilfe Pro</p>
          <p class="text-sm text-zinc-400">Köln, NRW</p>
        </div>
        <div class="flex gap-4 sm:justify-end items-center">
          <a href="/impressum" class="nav-link">Impressum</a>
          <a href="/datenschutz" class="nav-link">Datenschutz</a>
        </div>
      </div>
    </footer>

    <!-- Accesibilidad motion-reduce (fallback global) -->
    <style>
      @media (prefers-reduced-motion: reduce) {
        * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
      }
    </style>
  </body>
</html>
